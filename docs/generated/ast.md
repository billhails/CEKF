# ast

Abstract Syntax Tree (AST) structures generated by the parser. As this is close to the surface of the language, it is quite complicated. The complexity is reduced downstream by conversion to simple lambda form.

```mermaid
flowchart LR
AstIntTable --entries--> int
AstProg --preamble--> AstDefinitions
AstProg --nameSpaces--> AstNameSpaceArray
AstProg --body--> AstExpressions
AstNest --definitions--> AstDefinitions
AstNest --expressions--> AstExpressions
AstNameSpaceImpl --id--> file_id
AstNameSpaceImpl --definitions--> AstDefinitions
AstNameSpace --symbol--> HashSymbol
AstNameSpace --reference--> index
AstDefinitions --definition--> AstDefinition
AstDefinitions --next--> AstDefinitions
AstDefine --symbol--> HashSymbol
AstDefine --expression--> AstExpression
AstMultiDefine --symbols--> AstSymbolList
AstMultiDefine --expression--> AstExpression
AstSymbolList --symbol--> HashSymbol
AstSymbolList --next--> AstSymbolList
AstAlias --name--> HashSymbol
AstAlias --type--> AstType
AstExprAlias --name--> HashSymbol
AstExprAlias --value--> AstExpression
AstAnnotatedSymbol --symbol--> HashSymbol
AstAnnotatedSymbol --originalImpl--> AstExpression
AstDefMacro --name--> HashSymbol
AstDefMacro --definition--> AstAltFunction
AstTypeDef --typeSig--> AstTypeSig
AstTypeDef --typeBody--> AstTypeBody
AstTypeSig --symbol--> HashSymbol
AstTypeSig --typeSymbols--> AstTypeSymbols
AstTypeSymbols --typeSymbol--> HashSymbol
AstTypeSymbols --next--> AstTypeSymbols
AstTypeBody --typeConstructor--> AstTypeConstructor
AstTypeBody --next--> AstTypeBody
AstTypeConstructor --symbol--> HashSymbol
AstTypeConstructor --args--> AstTypeConstructorArgs
AstTypeFunction --symbol--> AstLookUpOrSymbol
AstTypeFunction --typeList--> AstTypeList
AstTypeList --type--> AstType
AstTypeList --next--> AstTypeList
AstTypeMap --key--> HashSymbol
AstTypeMap --type--> AstType
AstTypeMap --next--> AstTypeMap
AstType --typeClause--> AstTypeClause
AstType --next--> AstType
AstCompositeFunction --unsafe--> bool
AstCompositeFunction --function--> AstFunction
AstCompositeFunction --next--> AstCompositeFunction
AstFunction --argList--> AstFargList
AstFunction --nest--> AstNest
AstFargList --arg--> AstFarg
AstFargList --next--> AstFargList
AstTaggedArgList --tag--> HashSymbol
AstTaggedArgList --arg--> AstFarg
AstTaggedArgList --next--> AstTaggedArgList
AstAltArgs --argList--> AstFargList
AstAltArgs --next--> AstAltArgs
AstAltFunction --altArgs--> AstAltArgs
AstAltFunction --nest--> AstNest
AstUnpack --symbol--> AstLookUpOrSymbol
AstUnpack --argList--> AstFargList
AstUnpackStruct --symbol--> AstLookUpOrSymbol
AstUnpackStruct --argList--> AstTaggedArgList
AstNamedArg --name--> HashSymbol
AstNamedArg --arg--> AstFarg
AstFunCall --function--> AstExpression
AstFunCall --arguments--> AstExpressions
AstExpressions --expression--> AstExpression
AstExpressions --next--> AstExpressions
AstLookUpSymbol --nsId--> int
AstLookUpSymbol --nsSymbol--> HashSymbol
AstLookUpSymbol --symbol--> HashSymbol
AstLookUp --nsId--> int
AstLookUp --nsSymbol--> HashSymbol
AstLookUp --expression--> AstExpression
AstIff --test--> AstExpression
AstIff --consequent--> AstNest
AstIff --alternative--> AstNest
AstPrint --exp--> AstExpression
AstTypeOf --exp--> AstExpression
AstStruct --symbol--> AstLookUpOrSymbol
AstStruct --expressions--> AstTaggedExpressions
AstTaggedExpressions --tag--> HashSymbol
AstTaggedExpressions --expression--> AstExpression
AstTaggedExpressions --next--> AstTaggedExpressions
AstTypeConstructorArgs --list--> AstTypeList
AstTypeConstructorArgs --map--> AstTypeMap
AstLookUpOrSymbol --symbol--> HashSymbol
AstLookUpOrSymbol --lookUp--> AstLookUpSymbol
AstDefinition --define--> AstDefine
AstDefinition --multi--> AstMultiDefine
AstDefinition --typeDef--> AstTypeDef
AstDefinition --macro--> AstDefMacro
AstDefinition --alias--> AstAlias
AstDefinition --blank--> void_ptr
AstDefinition --builtinsSlot--> void_ptr
AstTypeClause --integer--> void_ptr
AstTypeClause --character--> void_ptr
AstTypeClause --var--> HashSymbol
AstTypeClause --typeFunction--> AstTypeFunction
AstTypeClause --typeTuple--> AstTypeList
AstFarg --wildCard--> void_ptr
AstFarg --symbol--> HashSymbol
AstFarg --lookUp--> AstLookUpSymbol
AstFarg --named--> AstNamedArg
AstFarg --unpack--> AstUnpack
AstFarg --unpackStruct--> AstUnpackStruct
AstFarg --number--> MaybeBigInt
AstFarg --character--> character
AstFarg --tuple--> AstFargList
AstExpression --back--> void_ptr
AstExpression --wildCard--> void_ptr
AstExpression --alias--> AstExprAlias
AstExpression --annotatedSymbol--> AstAnnotatedSymbol
AstExpression --funCall--> AstFunCall
AstExpression --lookUp--> AstLookUp
AstExpression --symbol--> HashSymbol
AstExpression --number--> MaybeBigInt
AstExpression --character--> character
AstExpression --fun--> AstCompositeFunction
AstExpression --nest--> AstNest
AstExpression --iff--> AstIff
AstExpression --print--> AstPrint
AstExpression --typeOf--> AstTypeOf
AstExpression --tuple--> AstExpressions
AstExpression --env--> void_ptr
AstExpression --structure--> AstStruct
AstExpression --assertion--> AstExpression
AstExpression --error--> AstExpression
AstPosition["enum AstPosition"]
AstNameSpaceArray["AstNameSpaceArray[]"] --entries--> AstNameSpaceImpl
AstFileIdArray["AstFileIdArray[]"] --entries--> file_id
AstStringArray["AstStringArray[]"] --entries--> string
AstExpressionArray["AstExpressionArray[]"] --entries--> AstExpression
AstUTF8["AstUTF8[]"] --entries--> uchar
```

> Generated from src/ast.yaml by tools/generate.py

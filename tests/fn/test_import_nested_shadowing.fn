// Nested scopes and shadowing for imported operators

let
    link "import_ops_lib.fn" as ops;
    // Import only Infix plus at outer scope
    import ops operator "_plus_";
in
    // Outer scope uses imported plus
    assert(2 plus 3 == 5);

    // Inner scope: shadow plus with a local definition; also import a different fixity locally
    {
        let
            fn times(a, b) { a * b };
            operator "_plus_" left 100 times;   // shadow imported plus
            import ops operator "~_";      // import only in inner scope
        in
            assert(2 plus 3 == 6);   // uses shadowed local plus
            assert(~5 == -5);        // operator imported only here
    };

    // After inner scope, shadowing is gone; outer imported plus remains; operator ~_ is not visible here
    assert(2 plus 3 == 5);


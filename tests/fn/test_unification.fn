// Test: Do lazy and strict functions unify?
let
lazy fn lazy_or(a, b) { a or b }

fn strict_or(x, y) { x or y }

// This compiles because lazy and strict types currently unify
fn polymorphic_test(f) {
    f  // Just return the function
}
in
// Both of these type check successfully
{
    let x = polymorphic_test(lazy_or);
    y = polymorphic_test(strict_or);
    in
    
    assert((typeof lazy_or) == "#() -> bool -> #() -> bool -> bool");
    assert((typeof strict_or) == "bool -> bool -> bool");
    assert((typeof x) == "#() -> bool -> #() -> bool -> bool");
    assert((typeof y) == "bool -> bool -> bool");
}

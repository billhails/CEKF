#
# CEKF - VM supporting amb
# Copyright (C) 2022-2024  Bill Hails
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.
#

config:
    name: pratt
    description: Pratt Parser support
    parserInfo: false
    limited_includes:
    - file_id.h
    - ast_helper.h
    - pratt_functions.h


structs:
    PrattBinary:
        token: HashSymbol
        left: PrattExpr
        right: PrattExpr

    PrattUnary:
        token: HashSymbol
        expr: PrattExpr

    PrattRecord:
        token: HashSymbol
        left: int
        right: int
        prefix: int
        postfix: int
        matchingRight: HashSymbol
        prefixOp: PrattPrefixOp
        postfixOp: PrattPostfixOp
        infixOp: PrattPostfixOp

    PrattTrie:
        character: byte
        terminal: HashSymbol
        siblings: PrattTrie
        children: PrattTrie

unions:
    PrattExpr:
        unary: PrattUnary
        binary: PrattBinary
        number: int
        atom: HashSymbol

    PrattToken:
        op: HashSymbol
        atom: HashSymbol
        number: int
        eof: void_ptr

arrays:
    PrattLexer:
        entries: PrattToken

hashes:
    PrattParser:
        entries: PrattRecord

primitives: !include primitives.yaml

